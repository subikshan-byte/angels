<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout</title>
</head>
<body>
    <h1>Checkout</h1>
    <p>Total Amount: â‚¹{{ total_amount|floatformat:2 }}</p>

    <!-- Razorpay Checkout Button -->
    <form action="{{ callback_url }}" method="POST">
        {% csrf_token %}
        <script
            src="https://checkout.razorpay.com/v1/checkout.js"
            data-key="{{ razorpay_key }}"
            data-amount="{{ total_amount }}"
            data-currency="INR"
            data-order_id="{{ order_id }}"
            data-buttontext="Pay Now"
            data-name="My Shop"
            data-description="Payment for {{ product.p_name }}"
            data-prefill.name="{{ request.user.username }}"
            data-prefill.email="{{ request.user.email }}"
            data-theme.color="#3399cc">
        </script>
        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
    </form>
</body>
</html>
